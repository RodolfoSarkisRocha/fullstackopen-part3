{"version":3,"sources":["components/Header.jsx","components/NameList.jsx","components/PersonForm.jsx","components/Filter.jsx","services/phonebook.js","components/Notification.jsx","App.js","index.js"],"names":["Header","text","Person","person","onDelete","style","marginBottom","key","id","name","number","onClick","marginTop","borderBottom","NameList","persons","map","currentPerson","PersonForm","onSubmit","handleInputChange","contactFields","value","onChange","type","Filter","filterValue","filterName","handleFilter","baseUrl","successStyle","backgroundColor","border","color","transition","height","padding","opacity","errorStyle","notificationStyle","width","borderRadius","boxSizing","textAlign","Notification","message","styleObj","success","error","totalStyle","mainContainer","App","useState","setPersons","newContact","setNewContact","filter","setFilter","feedback","setFeedback","useEffect","Axios","get","then","response","data","catch","err","handleNotification","setTimeout","event","formattedValue","target","trim","preventDefault","payload","some","currentField","undefined","newPerson","validateName","window","confirm","includedPerson","find","put","newPersonsList","targetIndex","findIndex","splice","post","create","concat","personName","toLowerCase","lowerCaseFilter","includes","delete","deletePerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e288915e.chunk.js","sourcesContent":["import React from 'react'\n\nconst Header = ({ text }) => (\n  <h2>{text}</h2>\n)\n\nexport default Header","import React from 'react'\nimport Header from './Header'\n\nconst Person = ({ person, onDelete }) => (\n  <div style={{marginBottom: 10}} key={person.id}>\n    <div>\n      {`Name: ${person.name}`}\n    </div>\n    <div>\n      {`Number: ${person.number}`}\n    </div>\n    <button onClick={()=>onDelete(person)}>Delete</button>\n    <div style={{marginTop: 10, borderBottom: '1px solid black'}}/>\n  </div>\n)\n\nconst NameList = ({ persons = [], onDelete }) => (\n  <>\n    <Header text='Numbers' />\n    {persons.map(currentPerson => (\n      <Person key={currentPerson.id} person={currentPerson} onDelete={onDelete}/>\n    ))}\n  </>\n)\n\nexport default NameList","import React from 'react'\nimport Header from './Header'\n\nconst PersonForm = ({onSubmit, handleInputChange, contactFields}) => (\n  <>\n  <Header text='Create new person' />\n  <form onSubmit={onSubmit}>\n    <div style={{ marginBottom: 10 }}>\n      <label>Name: </label>\n      <input\n        value={contactFields.name}\n        name='name'\n        onChange={handleInputChange}\n      />\n    </div>\n    <div style={{ marginBottom: 10 }}>\n      <label>Number: </label>\n      <input\n        value={contactFields.number}\n        name='number'\n        onChange={handleInputChange}\n      />\n    </div>\n    <div>\n      <button type=\"submit\">Add</button>\n    </div>\n  </form>\n  </>\n)\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({filterValue, filterName, handleFilter}) => (\n  <div style={{ marginBottom: 10 }}>\n    <label>{filterName}: </label>\n    <input value={filterValue} onChange={handleFilter} />\n  </div>\n)\n\nexport default Filter","import Axios from \"axios\";\nconst baseUrl = \"https://shrouded-beyond-25488.herokuapp.com/api/persons\";\n\nexport const getAll = () => {\n  const request = Axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nexport const create = (payload) => {\n  const request = Axios.post(baseUrl, payload);\n  return request.then((response) => response.data);\n};\n\nexport const deletePerson = (id) => {\n  const request = Axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nexport const edit = (id, payload) => {\n  const request = Axios.put(`${baseUrl}/${id}`, payload);\n  return request.then((response) => response.data);\n};\n","import React from \"react\";\n\nconst successStyle = {\n  backgroundColor: \"#f6ffed\",\n  border: \"1px solid #b7eb8f\",\n  color: \"#52c41a\",  \n  transition: \"opacity 2s linear\",\n  height: \"30px\",\n  padding: 5,\n  opacity: 1,\n};\nconst errorStyle = {\n  backgroundColor: \"#fff1f0\",\n  border: \"1px solid #ffa39e\",\n  color: \"#f5222d\",\n  padding: 5,\n  height: \"30px\",\n  opacity: 1,\n};\n\nconst notificationStyle = {\n  width: \"100%\",\n  borderRadius: 5,\n  boxSizing: \"border-box\",\n  height: 0,\n  opacity: 0,  \n  transition: \"opacity 2s linear\",\n  textAlign: \"center\",\n};\n\nconst Notification = ({ message, type }) => {\n  const styleObj = {\n    success: successStyle,\n    error: errorStyle,\n  };\n  const totalStyle = {\n    ...notificationStyle,\n    ...styleObj[type],\n  };\n  return <div style={totalStyle}>{message}</div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport NameList from \"./components/NameList\";\nimport Header from \"./components/Header\";\nimport PersonForm from \"./components/PersonForm\";\nimport Filter from \"./components/Filter\";\nimport { getAll, create, deletePerson, edit } from \"./services/phonebook\";\nimport Notification from \"./components/Notification\";\n\nconst mainContainer = {\n  padding: 10,\n  boxSizing: \"border-box\",\n  width: \"100%\",\n};\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newContact, setNewContact] = useState({\n    name: \"\",\n    number: \"\",\n  });\n  const [filter, setFilter] = useState(\"\");\n  const [feedback, setFeedback] = useState({ message: null, type: null });\n\n  useEffect(() => {\n    getAll()\n      .then((response) => setPersons(response))\n      .catch((err) =>\n        handleNotification(\"It was impossible to retrieve notes\", \"error\")\n      );\n  }, []);\n\n  const handleInputChange = (event) => {\n    const value = event.target.value;\n    const name = event.target.name;\n    setNewContact({\n      ...newContact,\n      [name]: value,\n    });\n  };\n\n  const validateName = (name) => {\n    const nameValidation = persons.some(\n      (currentPerson) => currentPerson.name === name\n    );\n    if (nameValidation) return true;\n    return false;\n  };\n\n  const validFields = (fields) => {\n    return fields.some(\n      (currentField) =>\n        currentField.trim() === \"\" ||\n        currentField === null ||\n        currentField === undefined\n    );\n  };\n\n  const handleNotification = (message, type) => {\n    setFeedback({ message, type });\n    setTimeout(() => {\n      setFeedback({ message: null, type: null });\n    }, 5000);\n  };\n\n  const addContact = (event) => {\n    event.preventDefault();\n    const { name, number } = newContact;\n    if (!validFields([name, number])) {\n      const newPerson = {\n        name: name,\n        number: number,\n      };\n      if (validateName(name)) {\n        const sureToEdit = window.confirm(\n          `${name} is already addded to phonebook, replace the old number with a new one?`\n        );\n        if (sureToEdit) {\n          const includedPerson = persons.find(\n            (currentPerson) => currentPerson.name === name\n          );\n          edit(includedPerson.id, newPerson)\n            .then((response) => {\n              const newPersonsList = [...persons];\n              const targetIndex = newPersonsList.findIndex(\n                (currentPerson) => currentPerson.id === response.id\n              );\n              newPersonsList.splice(targetIndex, 1, response);\n              setPersons(newPersonsList);\n              setNewContact({ name: \"\", number: \"\" });\n              handleNotification(`Successfully updated ${name}!`, \"success\");\n            })\n            .catch(() =>\n              handleNotification(`It was impossible to edit ${name}`, \"error\")\n            );\n        }\n      } else {\n        create(newPerson)\n          .then((response) => {\n            setPersons(persons.concat(response));\n            setNewContact({ name: \"\", number: \"\" });\n            handleNotification(\n              `Sucessfully added ${name} to the list!`,\n              \"success\"\n            );\n          })\n          .catch(() =>\n            handleNotification(\"It was impossible to create note\", \"error\")\n          );\n      }\n    } else handleNotification(\"Both fields are required!\", \"error\");\n  };\n\n  const removePerson = ({ id, ...person }) => {\n    const sureToDelete = window.confirm(\n      `Are you sure you want to delete ${person.name}?`\n    );\n    if (sureToDelete)\n      deletePerson(id)\n        .then(() => {\n          setPersons(\n            persons.filter((currentPerson) => currentPerson.id !== id)\n          );\n          handleNotification(`Succesfully deleted ${person.name}`);\n        })\n        .catch(() => {\n          handleNotification(\n            `It was impossible to delete the person with name ${person.name}`,\n            \"error\"\n          );\n        });\n  };\n\n  const handleFilter = (event) => {\n    const value = event.target.value;\n    const formattedValue = value.trim();\n    setFilter(formattedValue);\n  };\n\n  const getPersons = () => {\n    if (filter) {\n      const filteredPersons = persons.filter((currentPerson) => {\n        const personName = currentPerson.name.toLowerCase();\n        const lowerCaseFilter = filter.toLowerCase();\n        return personName.includes(lowerCaseFilter);\n      });\n      return filteredPersons;\n    }\n    return persons;\n  };\n\n  return (\n    <div style={mainContainer}>\n      <Header text=\"Phonebook\" />\n      <Notification message={feedback.message} type={feedback.type} />\n      <Header text=\"Filters\" />\n      <Filter\n        filterValue={filter}\n        filterName=\"Name\"\n        handleFilter={handleFilter}\n      />\n      <PersonForm\n        onSubmit={addContact}\n        handleInputChange={handleInputChange}\n        contactFields={newContact}\n      />\n      <NameList persons={getPersons()} onDelete={removePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}